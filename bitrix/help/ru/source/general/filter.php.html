
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html><head>
<META name="keywords" content="Битрикс управление сайтом документация PHP код страница как сделать сайт на PHP">
<script type="text/JavaScript"> if (window.name != "content") window.location = "../../index.html?page=source%2Fgeneral%2Ffilter.php.html"; </script>

<title>Сложная логика в фильтре</title>
<meta http-equiv="Content-Type" content="text/html; charset=windows-1251">
<meta http-equiv="Content-Language" content="ru">

<style>@import url(../docstyle.css);</style>

<script src="../wow.js"></script>

<script type="text/JavaScript">
top.pageid = "general/filter.php.html";
</script>

</head>

<body id="dxBody" topMargin="0" onload="bodyLoad()">
<!-- this header was added by chm2web -->

<div id="pagetop">
<div id="projectnamebanner">
<table class="projectnametable" cellSpacing="0">
	<tr>
		<td>1С-Битрикс: Управление сайтом</td>
		<td class="feedback"><a 
      href="mailto:support@bitrixsoft.ru?subject=Вопрос%20по%20документации%20(Топик [Сложная логика в фильтре])">Отправить 
      отзыв</a> по этому разделу&nbsp;&nbsp;&nbsp;</td></tr>
</table></div>
<div id="pagetitlebanner">
<h1 class="Banner">Сложная логика в фильтре</h1></div></div>
<div id="pagebody" valign="bottom">
 
<p>Поля фильтров с символом <span style="font-weight: bold;">&quot;?&quot;</span> позволяют вводить&nbsp;запросы.</p>
 
<h2>Использование&nbsp;запросов</h2>
 
<p>Запрос представляет из себя логическое выражение. Например, выборка пользователей по полю <span style="font-weight: bold;">ФИО пользователя</span>. Если ввести </p>
 
<div align="left"> 
  <pre align="left" class="syntax"><code>Пётр &amp; Иванов</code></pre>
 </div>
 
<p align="left">то отфильтруются все пользователи, у которых в поле <span style="font-weight: bold;">ФИО</span> встречаются оба эти слова, либо полностью, либо частично. Такого же результата можно добиться, написав эти слова через пробел: <code style="font-weight: bold;">Пётр Иванов</code>. </p>
 
<p align="left">Если нужно отфильтровать всех пользователей, у которых в поле <span style="font-weight: bold;">ФИО</span> встречается <span style="font-weight: bold;">Пётр</span> или <span style="font-weight: bold;">Иванов</span>, необходимо ввести запрос: </p>
 
<div align="left"> 
  <pre align="left" class="syntax"><code>Пётр | Иванов</code></pre>
 </div>
 
<p align="left">Когда необходимо использовать отрицание, предусмотрен логический оператор <span style="font-weight: bold;">&quot;~&quot;</span>. Например:&nbsp; </p>
 
<div align="left"> 
  <pre align="left" class="syntax">(Пётр | Иванов) &amp; ~Сидоров.</pre>
 </div>
 
<p align="left">Данный запрос означает:<span style="font-weight: bold;"> </span>вывести всех пользователей, у которых в поле <span style="font-weight: bold;">ФИО</span> встречаются сочетания букв <span style="font-weight: bold;">Пётр</span> или <span style="font-weight: bold;">Иванов</span> и в то же время не встречаются <span style="font-weight: bold;">Сидоров</span>. </p>
 
<p align="left">В последнем запросе были использованы круглые скобки. Это обусловлено тем, что оператор <span style="font-weight: bold;">&quot;|&quot;</span> имеет более низкий приоритет, чем оператор <span style="font-weight: bold;">&quot;&amp;&quot; </span>(см. таблицу <b>Приоритеты логических операторов</b>). В противном случае, если бы мы не указали круглых скобок, запрос <code style="font-weight: bold;">Пётр | Иванов &amp; ~Сидоров</code> имел бы следующее значение: вывести всех пользователей, у которых в поле <span style="font-weight: bold;">ФИО</span> встречаются сочетания букв <span style="font-weight: bold;">Иванов</span> и не встречаются <span style="font-weight: bold;">Сидоров</span>, либо всех пользователей, у которых в поле <span style="font-weight: bold;">ФИО</span> встречается <span style="font-weight: bold;">Пётр</span>. </p>
 
<p align="left">Вы можете использовать скобки и для построения более сложных запросов. </p>
 
<p align="left">Помимо вышеописанных операторов, возможно использование операторов для задания масок. Например, вы не помните ФИО нужного вам человека, но точно знаете что фамилия начинается на &quot;Пе&quot; и заканчивается на &quot;ова&quot;, при этом имя этого человека &quot;Ирина&quot; либо &quot;Ирэна&quot;. Для описания данных условий необходимо использовать следующий запрос: <code style="font-weight: bold;">Пе%ова &amp; Ир_на</code>. В данном запросе были использованы два оператора: <span style="font-weight: bold;">&quot;%&quot;</span>, означающий &quot;ноль, либо более любых символов&quot; и оператор <span style="font-weight: bold;">&quot;_&quot;</span>, означающий &quot;один любой символ&quot;. </p>
 
<p align="left">В случае, если вам необходимо использовать поиск слов, содержащих зарезервированные символы, воспользуйтесь двойными либо одинарными кавычками, например: <code style="font-weight: bold;">&quot;~NICK~&quot; | '&amp;Leon&amp;'</code>. Если вам необходимо найти фразу содержащую пробелы, выделите ее двойными либо одинарными кавычками, например: <code style="font-weight: bold;">&quot;Microsoft Internet Explorer&quot; | 'Netscape Navigator'</code>. </p>
 
<p align="left">Во всех выражениях запроса регистр символов значения не имеет. </p>
 
<h2>Операторы, используемые в запросах</h2>
 
<table class="tnormal"> 	 
  <tbody> 
    <tr> 		<th width="25%">Оператор</th> 		<th width="75%">Описание</th></tr>
   	 
    <tr> 		<td style="font-weight: bold;">&amp;</td> 		<td>Логический оператор&nbsp;&quot;<b>и</b>&quot;&nbsp;можно опускать: запрос <span style="font-weight: bold;">Пётр &amp; Иванов</span> полностью эквивалентен запросу <span style="font-weight: bold;">Пётр Иванов</span>.</td></tr>
   	 
    <tr> 		<td style="font-weight: bold;">|</td> 		<td>Логический оператор&nbsp;&quot;<b>или</b>&quot; позволяет искать записи, содержащие хотя бы один из операндов.</td></tr>
   	 
    <tr> 		<td style="font-weight: bold;">~</td> 		<td>Логический оператор&nbsp;&quot;<b>не</b>&quot; позволяет искать записи, не содержащие слово, указанное сразу после оператора, либо означает отрицание выражения, следующего сразу за этим оператором.</td></tr>
   	 
    <tr> 		<td style="font-weight: bold;">( )</td> 		<td>Круглые скобки задают порядок действия логических операторов.</td></tr>
   	 
    <tr> 		<td style="font-weight: bold;">%</td> 		<td>Оператор задания маски. Означает &quot;0 или более любых символов&quot;.</td></tr>
   	 
    <tr> 		<td style="font-weight: bold;">_</td> 		<td>Оператор задания маски. Означает &quot;1 любой символ&quot;.</td></tr>
   </tbody>
 </table>
 
<h2>Приоритеты логических операторов</h2>
 
<table class="tnormal"> 	 
  <tbody> 
    <tr> 		<th width="25%">Оператор</th> 		<th width="75%">Приоритет</th></tr>
   	 
    <tr> 		<td style="font-weight: bold;">~</td> 		<td>1</td></tr>
   	 
    <tr> 		<td style="font-weight: bold;">&amp;</td> 		<td>2</td></tr>
   	 
    <tr> 		<td style="font-weight: bold;">|</td> 		<td>3</td></tr>
   </tbody>
 </table>
 <bitrix:sys name="feedbackform"></bitrix:sys>

<table id="topicfooter">
	<tr>
		<td>© «Битрикс», 2001-2008, «1C-Битрикс», 2008</td>
		<td style="width: 50px">&nbsp;</td>
		<td style="text-align: right"><a href="http://www.1c-bitrix.ru" target="_blank">1С-Битрикс: Управление сайтом</a></td></tr>
</table></div>
<script type="text/JavaScript" src="../../files/supply.js"></script>
<script type="text/JavaScript">
var fe = FindFrame("toc", top);
if ((fe != null) && (top.jstree != null)) {
  if (top.FITEMS[top.pagenum] != top.pageid)
    top.jstree.OpenTreeNode("source/" + top.pageid);
}
</script>
</body></html>
