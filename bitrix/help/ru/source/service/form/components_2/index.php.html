
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html><head>
<META name="keywords" content="Битрикс управление сайтом документация PHP код страница как сделать сайт на PHP">
<script type="text/JavaScript"> if (window.name != "content") window.location = "../../../../index.html?page=source%2Fservice%2Fform%2Fcomponents_2%2Findex.php.html"; </script>

<title>Веб-форма (комплексный компонент)</title>
<meta http-equiv="Content-Type" content="text/html; charset=windows-1251">
<meta http-equiv="Content-Language" content="ru">

<style>@import url(../../../docstyle.css);</style>

<script src="../../../wow.js"></script>

<script type="text/JavaScript">
top.pageid = "service/form/components_2/index.php.html";
</script>

</head>

<body id="dxBody" topMargin="0" onload="bodyLoad()">
<!-- this header was added by chm2web -->

<div id="pagetop">
<div id="projectnamebanner">
<table class="projectnametable" cellSpacing="0">
	<tr>
		<td>1С-Битрикс: Управление сайтом</td>
		<td class="feedback"><a 
      href="mailto:support@bitrixsoft.ru?subject=Вопрос%20по%20документации%20(Топик [Веб-форма (комплексный компонент)])">Отправить 
      отзыв</a> по этому разделу&nbsp;&nbsp;&nbsp;</td></tr>
</table></div>
<div id="pagetitlebanner">
<h1 class="Banner">Веб-форма (комплексный компонент)</h1></div></div>
<div id="pagebody" valign="bottom">
 
<p>Комплексный компонент, создавая физически только одну страницу, позволяет получить несколько страниц: заполнение веб-формы, со списком результатов, редактирование результата, просмотр результата и т.д. Компонент стандартный и входит в дистрибутив модуля. 
  <br />
 </p>
 
<h4>Пример вызова</h4>
 
<br />
 
<pre id="xmp5A0A6F40" class="syntax">&lt;?$APPLICATION-&gt;IncludeComponent(&quot;bitrix:form&quot;,&quot;&quot;,Array(<br />     &quot;AJAX_MODE&quot; =&gt; &quot;Y&quot;,<br />     &quot;SEF_MODE&quot; =&gt; &quot;Y&quot;,<br />     &quot;WEB_FORM_ID&quot; =&gt; $_REQUEST[&quot;WEB_FORM_ID&quot;],<br />     &quot;RESULT_ID&quot; =&gt; $_REQUEST[&quot;RESULT_ID&quot;],<br />     &quot;START_PAGE&quot; =&gt; &quot;new&quot;,<br />     &quot;SHOW_LIST_PAGE&quot; =&gt; &quot;Y&quot;,<br />     &quot;SHOW_EDIT_PAGE&quot; =&gt; &quot;Y&quot;,<br />     &quot;SHOW_VIEW_PAGE&quot; =&gt; &quot;Y&quot;,<br />     &quot;SUCCESS_URL&quot; =&gt; &quot;&quot;,<br />     &quot;SHOW_ANSWER_VALUE&quot; =&gt; &quot;N&quot;,<br />     &quot;SHOW_ADDITIONAL&quot; =&gt; &quot;N&quot;,<br />     &quot;SHOW_STATUS&quot; =&gt; &quot;Y&quot;,<br />     &quot;EDIT_ADDITIONAL&quot; =&gt; &quot;N&quot;,<br />     &quot;EDIT_STATUS&quot; =&gt; &quot;Y&quot;,<br />     &quot;NOT_SHOW_FILTER&quot; =&gt; &quot;&quot;,<br />     &quot;NOT_SHOW_TABLE&quot; =&gt; &quot;&quot;,<br />     &quot;CHAIN_ITEM_TEXT&quot; =&gt; &quot;&quot;,<br />     &quot;CHAIN_ITEM_LINK&quot; =&gt; &quot;&quot;,<br />     &quot;IGNORE_CUSTOM_TEMPLATE&quot; =&gt; &quot;N&quot;,<br />     &quot;USE_EXTENDED_ERRORS&quot; =&gt; &quot;N&quot;,<br />     &quot;CACHE_TYPE&quot; =&gt; &quot;A&quot;,<br />     &quot;CACHE_TIME&quot; =&gt; &quot;3600&quot;,<br />     &quot;AJAX_OPTION_NOSHADOW&quot; =&gt; &quot;N&quot;,<br />     &quot;AJAX_OPTION_NOJUMP&quot; =&gt; &quot;Y&quot;,<br />     &quot;AJAX_OPTION_NOSTYLE&quot; =&gt; &quot;N&quot;,<br />     &quot;SEF_FOLDER&quot; =&gt; &quot;/communication/web-forms/&quot;,<br />     &quot;SEF_URL_TEMPLATES&quot; =&gt; Array(<br />         &quot;new&quot; =&gt; &quot;#WEB_FORM_ID#/&quot;,<br />         &quot;list&quot; =&gt; &quot;#WEB_FORM_ID#/list/&quot;,<br />         &quot;edit&quot; =&gt; &quot;#WEB_FORM_ID#/edit/#RESULT_ID#/&quot;,<br />         &quot;view&quot; =&gt; &quot;#WEB_FORM_ID#/view/#RESULT_ID#/&quot;<br />         ),<br />     &quot;VARIABLE_ALIASES&quot; =&gt; Array(<br />         &quot;new&quot; =&gt; Array(),<br />         &quot;list&quot; =&gt; Array(),<br />         &quot;edit&quot; =&gt; Array(),<br />         &quot;view&quot; =&gt; Array(),<br />         )<br />     )<br />);?&gt;</pre>
 
<h4>Описание параметров</h4>
 
<h5 class="graytitle">Основные параметры</h5>
 <dl> 	<dt><span style="font-weight: bold;">START_PAGE</span> 	</dt><dd>Выбирается начальная страница: 	 
    <ul> 		 
      <li><span style="font-weight: bold;">list</span> - страница со списком результатов данной формы; 		</li>
     
      <li><span style="font-weight: bold;">new</span> - страница добавления результата, т.е. будет представлена выбранная веб-форма для заполнения. </li>
     </ul>
   	</dd><dt><span style="font-weight: bold;">SHOW_LIST_PAGE</span> 	</dt><dd>Если значение параметра <span style="font-weight: bold;">START_PAGE</span> равно <span style="font-weight: bold;">new</span>, то при отмеченной опции пользователь после заполнения результата будет переведен на страницу со списком результатов. 
    <br />
   Если же в качестве начальной страницы указано <span style="font-weight: bold;">list</span>, то вне зависимости от этой опции выведется страница результатов. 	</dd><dt><span style="font-weight: bold;">SHOW_EDIT_PAGE</span> 	</dt><dd>При отмеченной опции на странице со списком результатов будет присутствовать ссылка <b>Изменить</b> на редактирование результата. 	 
    <p><b>Примечание</b>: количество записей на странице со списком результатов зависит от прав доступа пользователя, установленных в настройках формы и в настройках ее статуса. </p>
   	</dd><dt><span style="font-weight: bold;">SHOW_VIEW_PAGE</span> 	</dt><dd>При отмеченной опции на странице со списком результатов будет присутствовать ссылка на просмотр результата. 	 
    <p><b>Примечание</b>: количество записей на странице со списком результатов зависит от прав доступа пользователя, установленных в настройках формы и в настройках ее статуса. </p>
   	</dd><dt><span style="font-weight: bold;">SUCCESS_URL</span> 	</dt><dd>Путь к странице с сообщением об успешной отправке результата формы. Используется при отправке результата пользователем без прав редактирования результата. </dd></dl> 
<h5 class="graytitle">Источник данных</h5>
 <dl> 	<dt><span style="font-weight: bold;">WEB_FORM_ID</span> 	</dt><dd>Идентификатор веб-формы. 	</dd><dt><span style="font-weight: bold;">RESULT_ID</span> 	</dt><dd>Идентификатор результата заполнения формы. По умолчанию указано <span style="font-style: italic;">$_REQUEST[&quot;RESULT_ID&quot;]</span>, но также может быть записан php-код, возвращающий <span style="font-style: italic;">RESULT_ID</span>. </dd></dl> 
<h5 class="graytitle">Внешний вид</h5>
 <dl> 	<dt><span style="font-weight: bold;">SHOW_ANSWER_VALUE</span> 	</dt><dd>Вывод для показа значение параметра <span style="font-style: italic;">ANSWER_VALUE</span> вопроса веб-формы (выводится рядом со значением ответа). 	</dd><dt><span style="font-weight: bold;">SHOW_ADDITIONAL</span> 	</dt><dd>Вывод дополнительных полей формы при их наличии. 	</dd><dt><span style="font-weight: bold;">SHOW_STATUS</span> 	</dt><dd>Отображение статуса текущего результата на странице со списком результатов. 	</dd><dt><span style="font-weight: bold;">EDIT_ADDITIONAL</span> 	</dt><dd>Вывод дополнительных полей на редактирование. 	</dd><dt><span style="font-weight: bold;">EDIT_STATUS</span> 	</dt><dd>При установленной флаге и с учётом того, что значение параметра <span style="font-weight: bold;">SHOW_STATUS</span> равно <span style="font-weight: bold;">Y</span>, будет отображена форма смены статуса. Список доступных статусов в форме зависит от прав доступа, установленных для данной группы в настройках статусов формы. 	</dd><dt><span style="font-weight: bold;">NOT_SHOW_FILTER</span> 	</dt><dd>Указываются коды полей, которые нельзя показывать в фильтре. Можно исключить те поля веб-формы, которые не должны отображаться в фильтре на странице со списком результатов. 	 
    <p><b>Примечание:</b> чтобы поле отображалось в фильтре на странице со списком результатов, для данного вопроса должна быть заполнена закладка 	<b>Фильтр</b> в форме редактирования вопроса веб-формы в расширенном режиме.</p>
   	</dd><dt><span style="font-weight: bold;">NOT_SHOW_TABLE</span> 	</dt><dd>Указываются коды полей, которые нельзя показывать в таблице. Можно исключить те поля веб-формы, которые не должны отображаться в таблице на странице со списком результатов веб-формы. 	</dd><dt><span style="font-weight: bold;">IGNORE_CUSTOM_TEMPLATE</span> 	</dt><dd>При отмеченной опции для отображения веб-формы будет использоваться шаблон формы по умолчанию, даже если создан свой шаблон. </dd> 	<dt><span style="font-weight: bold;">USE_EXTENDED_ERRORS</span> 	</dt><dd>При отмеченной опции будет использован расширенный вывод сообщений об ошибках.</dd> </dl> 
<h5 class="graytitle">Управление адресами страниц</h5>
 <dl> 	<dt><span style="font-weight: bold;">SEF_MODE</span> 	</dt><dd>При установленном флаге включается поддержка <span style="font-weight: bold;">ЧПУ</span> и становятся доступными поля настройки адресов <span style="font-weight: bold;">ЧПУ</span>. 	</dd><dt><span style="font-weight: bold;">SEF_FOLDER</span> 	</dt><dd>Каталог <span style="font-weight: bold;">ЧПУ</span>: путь до папки, с которой работает компонент. Этот путь может как совпадать с физическим путём, так и не совпадать. 	</dd><dt><span style="font-weight: bold;">SEF_URL_TEMPLATES</span> 	</dt><dd>Указываются адреса следующих страниц: 	 
    <ul> 		 
      <li><span style="font-weight: bold;">new</span> - добавление результата; 		</li>
     
      <li><span style="font-weight: bold;">list</span> - список результатов; 		</li>
     
      <li><span style="font-weight: bold;">edit</span> - редактирование результата; 		</li>
     
      <li><span style="font-weight: bold;">view</span> - просмотр результата. </li>
     </ul>
   	</dd><dt><span style="font-weight: bold;">VARIABLE_ALIASES</span> 	</dt><dd>Имена переменных, в которых передаются названия действий. </dd></dl> 
<h5 class="graytitle">Управление режимом AJAX</h5>
 <dl> 	<dt><span style="font-weight: bold;">AJAX_MODE</span> 	</dt><dd>Включение режима <span style="font-weight: bold;">AJAX</span>. 	</dd><dt><span style="font-weight: bold;">AJAX_OPTION_NOSHADOW</span> 	</dt><dd>При выборе значения <span style="font-weight: bold;">Y</span> не будет происходить затенения формы при сохранении результатов ее заполнения.</dd><dt><span style="font-weight: bold;">AJAX_OPTION_NOJUMP</span> 	</dt><dd>Отключение прокрутки к началу компонента в публичной части при сохранении результата заполнения веб-формы. </dd><dt><span style="font-weight: bold;">AJAX_OPTION_NOSTYLE</span> 	</dt><dd>Отмена подгрузки стилей.</dd> </dl>	 
<h5 class="graytitle">Настройки кеширования</h5>
 <dl> 	<dt><span style="font-weight: bold;">CACHE_TYPE</span> 	</dt><dd>Тип кеширования: 	 
    <ul> 		 
      <li><span style="font-weight: bold;">A</span> - Авто: действует при включенном кешировании в течение заданного времени; 		</li>
     
      <li><span style="font-weight: bold;">Y</span> - Кешировать: необходимо определить время кеширования; 		</li>
     
      <li><span style="font-weight: bold;">N</span> - Не кешировать: кеширования нет в любом случае. </li>
     </ul>
   	</dd><dd> 	 
    <br />
   </dd><dt><span style="font-weight: bold;">CACHE_TIME</span> 	</dt><dd>Время кеширования, указанное в секундах. </dd></dl> 
<h5 class="graytitle">Дополнительные настройки</h5>
 <dl> 	<dt><span style="font-weight: bold;">CHAIN_ITEM_TEXT</span> 	</dt><dd>Название дополнительного пункта в навигационной цепочке (если оставить незаполненным, то в навигационную цепочку пункт не добавляется). 	</dd><dt><span style="font-weight: bold;">CHAIN_ITEM_LINK</span> 	</dt><dd>Можно задать ссылку, которая будет показана на дополнительном пункте меню в навигационной цепочке. </dd></dl><bitrix:sys name="feedbackform"></bitrix:sys>

<table id="topicfooter">
	<tr>
		<td>© «Битрикс», 2001-2008, «1C-Битрикс», 2008</td>
		<td style="width: 50px">&nbsp;</td>
		<td style="text-align: right"><a href="http://www.1c-bitrix.ru" target="_blank">1С-Битрикс: Управление сайтом</a></td></tr>
</table></div>
<script type="text/JavaScript" src="../../../../files/supply.js"></script>
<script type="text/JavaScript">
var fe = FindFrame("toc", top);
if ((fe != null) && (top.jstree != null)) {
  if (top.FITEMS[top.pagenum] != top.pageid)
    top.jstree.OpenTreeNode("source/" + top.pageid);
}
</script>
</body></html>
