
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html><head>
<META name="keywords" content="Битрикс управление сайтом документация PHP код страница как сделать сайт на PHP">
<script type="text/JavaScript"> if (window.name != "content") window.location = "../../../../index.html?page=source%2Fstore%2Fcatalog%2Fexport%2Findex.php.html"; </script>

<title>Экспорт. Детальное описание</title>
<meta http-equiv="Content-Type" content="text/html; charset=windows-1251">
<meta http-equiv="Content-Language" content="ru">

<style>@import url(../../../docstyle.css);</style>

<script src="../../../wow.js"></script>

<script type="text/JavaScript">
top.pageid = "store/catalog/export/index.php.html";
</script>

</head>

<body id="dxBody" topMargin="0" onload="bodyLoad()">
<!-- this header was added by chm2web -->

<div id="pagetop">
<div id="projectnamebanner">
<table class="projectnametable" cellSpacing="0">
	<tr>
		<td>1С-Битрикс: Управление сайтом</td>
		<td class="feedback"><a 
      href="mailto:support@bitrixsoft.ru?subject=Вопрос%20по%20документации%20(Топик [Экспорт. Детальное описание])">Отправить 
      отзыв</a> по этому разделу&nbsp;&nbsp;&nbsp;</td></tr>
</table></div>
<div id="pagetitlebanner">
<h1 class="Banner">Экспорт. Детальное описание</h1></div></div>
<div id="pagebody" valign="bottom">



<p>Выгрузка (экспорт) данных из каталога позволяет организовать обмен данными 
между сайтом и другими сайтами или программами (например, с MS Excel). С помощью 
формы <b>Настройка экспорта</b> вы можете экспортировать данные как на основании 
предустановленных, так и на основании ваших собственных шаблонов экспорта. Кроме 
того, с помощью этой формы вы можете задавать предустановленные профили 
экспорта, выносить часто используемые шаблоны и профили экспорта в меню, 
настраивать автоматическое выполнение экспорта с помощью агентов и 
<code>cron</code>.</p>

<p>Разработчики могут найти примеры кода шаблонов в разделе <a href="templates.php.html">Шаблоны</a> Руководства разработчика.</p>

<p><b>Шаблоны экспорта</b> могут быть двух типов: с дополнительными настройками 
экспорта (в том числе и с пошаговыми мастерами) или без настроек.</p>

<h4>Шаблоны с настройками</h4>
<p>При выполнении самого шаблона (профиль "по умолчанию") сначала вызывается 
соответствующий файл дополнительных настроек экспорта (мастер экспорта), в 
котором нужно задать необходимые шаблону экспорта параметры.</p>

<p>Можно заранее создать набор необходимых параметров и сохранить его как 
профиль экспорта командой <b>Добавить профиль</b>. При выполнении профиля 
экспорта, отличного от профиля "по умолчанию", мастер экспорта не вызывается, а 
экспорт идет на основании ранее сохраненных в профиле параметров.</p>

<p>Установить на автоматическое выполнение с помощью агентов или 
<code>cron</code> (только для UNIX) можно любой профиль экспорта, отличный от 
профиля "по умолчанию". Это связано с тем, что при автоматическом выполнении не 
могут выполнятся запросы на ввод дополнительных параметров экспорта у 
пользователя, поэтому все необходимые параметры должны быть сохранены в профиле 
заранее.</p>

<h4>Шаблоны без настроек</h4>
<p>Выполняется (экспортирует данные) непосредственно после вызова. Профили 
экспорта не создаются. Шаблон не требует дополнительных параметров для своего 
выполнения, поэтому непосредственно устанавливается на автоматическое выполнение 
с помощью агентов или <code>cron</code> (только для UNIX).</p>

<p>Выполнение команды <b>"Добавить в меню"</b> приводит к добавлению 
соответствующего пункта в левое меню административной части. Этот пункт меню 
функционирует так же, как и соответствующая команда "Экспортировать" формы 
"Настройка экспорта".</p>

<h4>Агенты</h4>
<p><b>Агенты</b> - это PHP функции которые запускаются с определённой 
периодичностью. В самом начале загрузки каждой страницы система автоматически 
проверяет есть ли агент который нуждается в запуске и в случае необходимости 
исполняет его. Не рекомендуется вешать на агенты длительные по времени / большие 
по объему выгрузки. Для этих случаев лучше использовать cron.</p>

<p>При установке на автоматическое выполнение с помощью агентов система выводит 
запрос на период выполнения экспорта. С таким периодом (в часах) экспорт будет 
выполняться автоматически, начиная с текущего момента.</p>

<h4>Утилита cron</h4>
<p><b>Утилита cron</b> работает в фоновом режиме и выполняет указанные задачи в 
указанное время. Выполнение задач с помощью <code>cron</code> не связано с 
активностью посетителей на сайте. Выполнение задач с помощью <code>cron</code> 
может быть назначено не только с определённой периодичностью, но и в строго 
заданное время.</p>

<p>Утилита <code>cron</code> доступна только на хостингах, работающих под 
операционными системами семейства UNIX.</p>

<p>При установке на автоматическое выполнение с помощью <code>cron</code> 
система выводит запрос на период / время выполнения экспорта и путь к 
интерпретатору php. Если будет указан период выполнения (в часах), то экспорт 
будет выполняться с таким периодом автоматически, начиная с текущего момента. 
Если будет указано время выполнения (часы и минуты), то экспорт будет 
выполняться автоматически каждый день в указанное время.</p>

<p>Путь к интерпретатору php может быть выяснен у хостинг-провайдера или указан 
в документации по хостингу.</p>

<p>Команда <b>Повесить на cron</b> добавляет соответствующую запись в 
конфигурационный файл <code>/bitrix/crontab/crontab.cfg</code>, который содержит 
текущий список задач для cron. После изменения набора задач, установленных на 
cron, необходимо заново установить конфигурационный файл. Если в форме установки 
на автоматическое выполнение отмечен флаг <b>Установить автоматически</b>, то 
форма пытается самостоятельно установить конфигурационный файл в cron. 
Автоматическая установка конфигурационного файла может не пройти (например, нет 
достаточных прав). В этом случае необходимо соединиться с вашим сайтом по 
<b>SSH</b> (<b>SSH2</b>) или какому-либо другому аналогичному протоколу, 
поддерживаемому вашим провайдером для удаленного доступа к shell, и провести 
установку конфигурационного файла вручную командой</p>
<pre class="syntax" id="xmpAC8875F3">
crontab &lt;полный_путь_к_конфигурационный_файл_ crontab.cfg&gt;</pre>
<p>Для просмотра списка установленных на <code>cron</code> задач нужно выполнить 
команду</p>
<pre class="syntax" id="xmpB5CA7EDA">
crontab -l</pre>
<p>Текущий список установленных на <code>cron</code> задач выводится так же 
внизу формы <b>Настройка экспорта</b>, если есть права на его получение.</p>

<p>Для удаления списка установленных на <code>cron</code> задач нужно выполнить 
команду</p>
<pre class="syntax" id="xmpBEB865F0">
crontab -r</pre>
<p>Если у вас установлены на <code>cron</code> задачи, которых нет в 
конфигурационном файле, то при применении этого файла такие задачи будут 
удалены.</p>

<p>Оболочкой для выполнения задач на <code>cron</code> является файл 
<code>/bitrix/php_interface/include/catalog_export/cron_frame.php</code>. 
Убедитесь, что в нем прописаны правильные пути к php и корню 
сайта.</p>
<bitrix:sys name="feedbackform"></bitrix:sys>

<table id="topicfooter">
	<tr>
		<td>© «Битрикс», 2001-2008, «1C-Битрикс», 2008</td>
		<td style="width: 50px">&nbsp;</td>
		<td style="text-align: right"><a href="http://www.1c-bitrix.ru" target="_blank">1С-Битрикс: Управление сайтом</a></td></tr>
</table></div>
<script type="text/JavaScript" src="../../../../files/supply.js"></script>
<script type="text/JavaScript">
var fe = FindFrame("toc", top);
if ((fe != null) && (top.jstree != null)) {
  if (top.FITEMS[top.pagenum] != top.pageid)
    top.jstree.OpenTreeNode("source/" + top.pageid);
}
</script>
</body></html>
